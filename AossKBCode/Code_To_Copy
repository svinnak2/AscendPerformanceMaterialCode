import json
import subprocess

# Get the list of all packages in JSON format
result = subprocess.run(["pip", "list", "--format=json"], stdout=subprocess.PIPE, text=True)
packages = json.loads(result.stdout)

# Function to get the install date of each package
def get_install_date(package_name):
    result = subprocess.run(["pip", "show", package_name], stdout=subprocess.PIPE, text=True)
    for line in result.stdout.splitlines():
        if line.startswith("Installed-Date:"):
            return line.split(": ", 1)[1]
    return "Unknown"  # Return "Unknown" if no install date is found

# List packages with installation dates
for package in packages:
    package_name = package["name"]
    install_date = get_install_date(package_name)
    print(f"{package_name}: {install_date}")
