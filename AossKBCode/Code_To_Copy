import json
import subprocess
from datetime import datetime

# Get the list of all packages in JSON format
result = subprocess.run(["pip", "list", "--format=json"], stdout=subprocess.PIPE, text=True)
packages = json.loads(result.stdout)

# Function to get the install date of each package
def get_install_date(package_name):
    result = subprocess.run(["pip", "show", package_name], stdout=subprocess.PIPE, text=True)
    for line in result.stdout.splitlines():
        if line.startswith("Location:"):
            return None  # Skip packages without install dates
        if line.startswith("Installer:"):
            return None
        if line.startswith("Name:"):
            continue
        if line.startswith("Requires"):
            continue
        if line.startswith("Entry-Points"):
            continue

    return
